<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Sputnik Unit Tests</title>
    
    <link rel="stylesheet" type="text/css" href="./bower_components/jasmine/lib/jasmine-core/jasmine.css">
    <script src="./bower_components/jasmine/lib/jasmine-core/jasmine.js"></script>
    <script src="./bower_components/jasmine/lib/jasmine-core/jasmine-html.js"></script>
    <script src="../app/bower_components/jquery/jquery.min.js"></script>
    <script src="../app/bower_components/angular/angular.js"></script>
    <script src="./bower_components/angular-mocks/angular-mocks.js"></script>
    
    
    <!-- spec files of libs independent of angular -->
    <script src="./models/feedsStorage.spec.js"></script>
    <script src="./models/articlesStorage.spec.js"></script>
    <script src="./helpers/feedParser.spec.js"></script>
    <script src="./helpers/feedScout.spec.js"></script>
    <script src="./helpers/feedsWaitingRoom.spec.js"></script>
    <script src="./helpers/opml.spec.js"></script>
    <script src="./helpers/safeFile.spec.js"></script>
    
    
    <!-- angular-dependent stuff -->
    
    <script>
        // instantiating main app module
        var sputnik = angular.module('sputnik', []);
    </script>
    
    <script src="../app/services/feedsService.js"></script>
    <script>
        sputnik.factory('feedsService', feedsService);
    </script>
    <script src="./services/feedsService.spec.js"></script>
    
    <script src="../app/services/articlesService.js"></script>
    <script>
        sputnik.factory('articlesService', articlesService);
    </script>
    <script src="./services/articlesService.spec.js"></script>
    
    <script src="../app/services/downloadService.js"></script>
    <script>
        sputnik.factory('downloadService', downloadService);
    </script>
    <script src="./services/downloadService.spec.js"></script>
    
    <script src="../app/services/updateService.js"></script>
    <script>
        sputnik.factory('updateService', updateService);
    </script>
    <script src="./services/updateService.spec.js"></script>
    
    <!-- integration tests -->
    <script src="./integration/feedsAndArticles.spec.js"></script>
    
    <script>
        
        // jasmine runner
        
        (function() {
            var jasmineEnv = jasmine.getEnv();
            jasmineEnv.updateInterval = 1000;
            
            var htmlReporter = new jasmine.HtmlReporter();
            
            jasmineEnv.addReporter(htmlReporter);
            
            jasmineEnv.specFilter = function(spec) {
                return htmlReporter.specFilter(spec);
            };
            
            var currentWindowOnload = window.onload;
            
            window.onload = function() {
                if (currentWindowOnload) {
                    currentWindowOnload();
                }
                execJasmine();
            };
            
            function execJasmine() {
                jasmineEnv.execute();
            }
        }());
    </script>
    
</head>
<body>
    
</body>
</html>